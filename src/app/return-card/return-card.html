<div class="container">

  <div class="header">
    <i class="fas fa-credit-card"></i>
    <h1>‡∏Ñ‡∏∑‡∏ô‡∏ö‡∏±‡∏ï‡∏£ RFID</h1>
  </div>
  <div class="card-section">
    
    <div class="search-area">
      <label><i class="fas fa-id-card"></i> ‡∏™‡πÅ‡∏Å‡∏ô‡∏ö‡∏±‡∏ï‡∏£ RFID</label>
      <div class="input-group">
        <input type="text" 
               [(ngModel)]="searchInput" 
               (keyup.enter)="onSearch()"
               placeholder="‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ï‡∏£ RFID......">
        <button class="btn-search" (click)="onSearch()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
      </div>
    </div>

    <div class="result-area" *ngIf="activeCard">
      <div class="card-code-display">
        <div class="label">‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ï‡∏£</div>
        <div class="value-box">{{ activeCard.id }}</div>
      </div>

      <div class="info-table">
        <div class="info-header">
          <div>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</div>
          <div>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</div>
          <div>‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</div>
        </div>
        <div class="info-row">
          <div class="text-name">{{ activeCard.name }}</div>
          <div>{{ activeCard.checkIn }}</div>
          <div>{{ activeCard.checkOut }}</div>
        </div>
      </div>

      <div class="action-area">
        <button class="btn-return" (click)="confirmReturnCard()">‡∏Ñ‡∏∑‡∏ô‡∏ö‡∏±‡∏ï‡∏£</button>
      </div>
    </div>
  </div>

  <div class="history-section">
    <div class="history-header">
      <div class="title">
        <i class="fas fa-history"></i> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô‡∏ö‡∏±‡∏ï‡∏£
      </div>
      <div class="filters">
          <!-- üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ï‡∏£ -->
          <div class="filter-search">
              <i class="fas fa-search"></i>
              <input 
                type="text" 
                placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏±‡∏ï‡∏£"
                [(ngModel)]="filterText"
                (input)="applyFilters()"
              >
          </div>

          <!-- üìÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
          <div class="filter-date" (click)="toggleDatePicker()">
            <span>‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</span> 
            <i class="fas fa-calendar-alt"></i>
          </div>

          <!-- dropdown date -->
          <div *ngIf="showDatePicker" class="date-box">
              <input type="date" [(ngModel)]="startDate" (change)="applyFilters()">
              <input type="date" [(ngModel)]="endDate" (change)="applyFilters()">
          </div>

          <!-- üîΩ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö -->
          <div class="filter-sort" (click)="toggleSort()">
            <span>‡πÄ‡∏£‡∏µ‡∏¢‡∏á</span> 
            <i class="fas fa-caret-down"></i>
          </div>

          <!-- dropdown sort -->
          <div *ngIf="showSort" class="sort-box">
              <div (click)="setSort('asc')">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ ‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí ‡∏°‡∏≤‡∏Å</div>
              <div (click)="setSort('desc')">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ ‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢</div>
          </div>

        </div>

    </div>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th class="col-no">‡∏ó‡∏µ‡πà</th>
            <th>‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ï‡∏£</th>
            <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</th>
            <th>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</th>
            <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</th>
            <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
            <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of historyList; let i = index">
            <td class="col-no">{{ item.no }}</td> <td class="col-code">{{ item.cardId }}</td>
            <td class="col-name">{{ item.name }}</td>
            <td class="col-time">{{ item.timeIn }}</td>
            <td class="col-time">{{ item.timeOut }}</td>
            <td class="col-date">{{ item.date }}</td>
            <td>
              <span class="status-badge success">{{ item.status }}</span>
            </td>
          </tr>
        </tbody>
      </table>
      
      <div class="empty-rows">
         <div class="empty-row"></div>
         <div class="empty-row"></div>
         <div class="empty-row"></div>
         <div class="empty-row"></div>
      </div>
    </div>
  </div>

</div>